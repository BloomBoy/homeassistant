vilmer_light_red_flash:
  alias: Vilmer Light Red Flash
  sequence:
  - sequence:
    - action: light.turn_on
      metadata: {}
      data:
        flash: short
        rgb_color:
        - 255
        - 0
        - 0
        transition: 1
      target:
        entity_id: light.extra_taklampa_01
    - delay:
        hours: 0
        minutes: 0
        seconds: 3
        milliseconds: 0
    - action: light.turn_on
      metadata: {}
      data:
        kelvin: 2000
        transition: 3
      target:
        entity_id: light.extra_taklampa_01
  description: ''

light_of_vilmer_check:
  alias: Light Of Vilmer Check
  sequence:
  - if:
    - condition: time
      weekday:
      - fri
      - thu
      - wed
      - tue
      - mon
      after: '19:30:00'
    - condition: state
      entity_id: light.extra_taklampa_01
      state: 'on'
    then:
    - choose:
      - conditions:
        - condition: not
          conditions:
          - condition: state
            entity_id: sensor.pixel_7_battery_state
            state: charging
        sequence:
        - action: script.vilmer_light_red_flash
          metadata: {}
          data: {}
        - stop: Telefonen laddar inte
      - conditions:
        - condition: not
          conditions:
          - condition: state
            entity_id: binary_sensor.pixel_7_alarm_withiing_next_105h
            state: 'on'
        sequence:
        - action: script.vilmer_light_red_flash
          metadata: {}
          data: {}
        - stop: Telefonen laddar inte
  description: ''

vilket_lights_of_120_sec:
  alias: Vilket Lights of 120 sec
  sequence:
  - service: light.turn_off
    metadata: {}
    data:
      transition: 20
    target:
      area_id: sovrum
  description: ''